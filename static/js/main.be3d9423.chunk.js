(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(58)},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),c=n.n(o),i=n(6),u=n(7),l=n(9),s=n(8),m=n(10),E=n(5),p=n(15),d=n.n(p),f=function(e){e?d.a.defaults.headers.common.Authorization=e:delete d.a.defaults.headers.common.Authorization},h=n(25),_=n.n(h),D=function(e){return{type:"ADD_NEW_FORM_REQUEST",form:e}},b=function(e,t){return{type:"ADD_NEW_FORM_REQUEST_SUCCESS",user:t}},O=function(e){return{type:"ADD_NEW_TODO_REQUEST_FAILED",error:e}},S=function(e){return{type:"ADD_NEW_LOGIN_REQUEST",form:e}},w=function(e,t){return{type:"ADD_NEW_LOGIN_REQUEST_SUCCESS",token:t}},v=function(e){return{type:"ADD_NEW_LOGIN_REQUEST_FAILED",error:e}},y=function(e){return{type:"ADD_NEW_DECODED_USER",user:e}},j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).onSubmit=function(e){e.preventDefault();var t=document.querySelector("#login"),r={email:t.email.value,password:t.password.value};n.props.addNewLogin(r),t.reset()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.onSubmit,id:"login"},a.a.createElement("input",{type:"email",name:"email",placeholder:"email"}),a.a.createElement("br",null),a.a.createElement("input",{type:"password",name:"password",placeholder:"password"}),a.a.createElement("br",null),a.a.createElement("button",null,"Login")))}}]),t}(r.Component),N=Object(E.b)(null,function(e){return{addNewLogin:function(t){return e(function(e){return function(t){return t(S(e)),fetch("https://user-jwt.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){if(t(w(e.token)),e.token){localStorage.setItem("x-access-token",e.token),f(e.token);var n=_()(e.token);t(y(n))}}):e.json().then(function(e){t(v(e))})})}}(t))}}})(j),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).onSubmit=function(e){e.preventDefault();var t=document.querySelector("form"),r={email:t.email.value,password:t.password.value,name:t.name.value};n.props.addNewForm(r),t.reset()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("form",{onSubmit:this.onSubmit,id:"form"},a.a.createElement("input",{type:"email",name:"email",placeholder:"email"}),a.a.createElement("br",null),a.a.createElement("input",{type:"password",name:"password",placeholder:"password"}),a.a.createElement("br",null),a.a.createElement("input",{type:"text",name:"name",placeholder:"name"}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("button",null,"REGISTER")),a.a.createElement(N,null))}}]),t}(r.Component),A=Object(E.b)(null,function(e){return{addNewForm:function(t){return e(function(e){return function(t){return t(D(e)),fetch("https://user-jwt.herokuapp.com/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){t(b(e.user))}):e.json().then(function(e){t(O(e))})})}}(t))}}})(g);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(3),T=n(26),U=n(4),k={form:{},isFetching:!1,register:!1,user:{}},W=Object(R.c)({rootReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_FORM_REQUEST":return Object(U.a)({},e,{isFetching:!0,form:t.form});case"ADD_NEW_FORM_REQUEST_SUCCESS":return Object(U.a)({},e,{isFetching:!1,register:!0,user:t.user});case"ADD_NEW_TODO_REQUEST_FAILED":return Object(U.a)({},e,{isFetching:!1});case"ADD_NEW_LOGIN_REQUEST":case"ADD_NEW_LOGIN_REQUEST_SUCCESS":case"ADD_NEW_LOGIN_REQUEST_FAILED":return Object(U.a)({},e,{isFetching:!0,form:t.form});case"ADD_NEW_DECODED_USER":return Object(U.a)({},e,{user:t.user});default:return e}}});var F=function(){var e=[T.a];return Object(R.e)(W,Object(R.d)(R.a.apply(void 0,e),window.devToolsExtension?window.devToolsExtension():function(e){return e}))}();c.a.render(a.a.createElement(E.a,{store:F},a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.be3d9423.chunk.js.map